"use strict";(function(e,t){function n(){try{var e=arguments[0],t=arguments[1],n=arguments[2],a=arguments[3],o="INVALID";a&&"function"==typeof a&&(o="js_cb_"+l++,g[o]=a);var i=[e,t,n,o];d.push(i),c()}catch(e){console.log("invoke(plugin, action, data, callback), error: "+e)}}function a(){try{var e=arguments[0],t=arguments[1];if(console.log("callbackId: %s, result: %s",e,t),e){var n=g[e];n&&"function"==typeof n&&n(t)}}catch(e){console.log("callback(callbackId, data)")}}function o(){try{var e=d;d=[];var t=JSON.stringify(e);return console.log("[fetchMessageQueue] messages: "+t),t}catch(e){console.log(e)}return[]}function c(){if(r)u.src="jsbridgex://ready";else if(s)try{AndroidAPI.dispatchMessageQueueFromJS(o())}catch(e){console.log(e)}}if(!e.JSBridge){var i=navigator.userAgent,r=/i(Phone|Pod|Pad|OS)/g.test(i),s=/Android/g.test(i),l=Math.floor(2e9*Math.random()),d=[],g={};e.JSBridge={invoke:n.bind(this),callback:a.bind(this),fetchMessageQueue:o.bind(this)};var u=t.createElement("iframe");u.style.display="none",c(),t.documentElement.appendChild(u);var f=t.createEvent("Events");f.initEvent("JSBridgeReady"),f.bridge=JSBridge,t.dispatchEvent(f)}})(window,document);