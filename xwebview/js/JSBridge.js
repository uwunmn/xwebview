"use strict";(function(e,t){function n(e,t){h[e]=t}function o(e){h[e]&&delete h[e]}function i(e,t){try{var n=h[e];"function"==typeof n&&n(t)}catch(e){console.log("invoke(plugin, action, data, callback), error: "+e)}}function a(e,t,n,o){try{var i="INVALID";o&&"function"==typeof o&&(i="js_cb_"+g++,v[i]=o);var a=[e,t,n,i];f.push(a),s()}catch(e){console.log("invoke(plugin, action, data, callback), error: "+e)}}function c(e,t){try{if(console.log("callbackId: %s, result: %s",e,t),e){var n=v[e];n&&"function"==typeof n&&n(t)}}catch(e){console.log("callback(callbackID, data)")}}function r(){try{var e=f;f=[];var t=JSON.stringify(e);return console.log("[fetchMessageQueue] messages: "+t),t}catch(e){console.log(e)}return[]}function s(){if(d)b.src="jsbridgex://ready";else if(u)try{AndroidAPI.dispatchMessageQueueFromJS(r())}catch(e){console.log(e)}}if(!e.JSBridge){var l=navigator.userAgent,d=/i(Phone|Pod|Pad|OS)/g.test(l),u=/Android/g.test(l),g=Math.floor(2e9*Math.random()),f=[],v={},h={};e.JSBridge={addEvent:n.bind(this),removeEvent:o.bind(this),invoke:a.bind(this),invokeN:i.bind(this),callback:c.bind(this),fetchMessageQueue:r.bind(this)};var b=t.createElement("iframe");b.style.display="none",s(),t.documentElement.appendChild(b);var y=t.createEvent("Events");y.initEvent("JSBridgeReady"),y.bridge=JSBridge,t.dispatchEvent(y)}})(window,document);